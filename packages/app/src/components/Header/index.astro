---
import {
  SignedIn,
  SignedOut,
  UserButton,
  SignInButton,
} from '@clerk/astro/components'
import { Button } from '../ui/button'

import clsx from 'clsx'

const navLinkClasses = clsx(
  'hover:text-blue-600',
  'focus-visible:underline',
  'focus-visible:text-blue-600',
  'focus-visible:outline-hidden',
)

export interface Props {
  siteName: string
}

const { siteName } = Astro.props
---

<header
  id="header"
  class="fixed z-50 w-full bg-white/90 shadow-sm backdrop-blur-sm"
>
  <div class="container mx-auto p-2">
    <div class="flex items-center justify-between">
      <a
        href="/"
        class="focus-visible:outline-hidden hover:text-blue-600 focus-visible:text-blue-600 focus-visible:underline"
      >
        <div class="text-3xl font-bold text-blue-800">{siteName}</div>
      </a>

      <nav
        aria-label="Header navigation"
        class="hidden items-center space-x-6 md:flex"
      >
        <SignedOut>
          <SignInButton
            asChild
            mode="modal"
          >
            <Button>Sign in</Button>
          </SignInButton>
        </SignedOut>

        <SignedIn>
          <UserButton
            showName
            appearance={{
              elements: {
                userButtonOuterIdentifier: "before:mr-1 before:content-['Dr.']",
              },
            }}
          />
        </SignedIn>
      </nav>
    </div>

    <div class="container mt-2">
      <nav
        aria-label="Site navigation"
        class="hidden items-center space-x-6 md:flex"
      >
        <SignedIn>
          <a
            href="/dashboard"
            class={navLinkClasses}
            >Dashboard</a
          >
          <a
            href="/dashboard/organ-search"
            class={navLinkClasses}
            >Organ Search</a
          >
        </SignedIn>
      </nav>
    </div>
  </div>
</header>
