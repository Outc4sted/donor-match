---
import { DataTable } from '@/components/shared/DataTable'
import { client } from '@/lib/client'
import { columns } from './columns'

const token = await Astro.locals.auth().getToken()
const response = await client.organs.getOrgans({
  headers: { authorization: `Bearer ${token}` },
})
---

<DataTable
  columns={columns}
  data={response.status === 200 ? response.body.organs : []}
/>
