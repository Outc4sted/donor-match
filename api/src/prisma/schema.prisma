//////////////////////////////////////////////////////////////////////////////////////////////
// DO NOT MODIFY THIS FILE                                                                  //
// This file is automatically generated by ZenStack CLI and should not be manually updated. //
//////////////////////////////////////////////////////////////////////////////////////////////

datasource db {
  provider = "sqlite"
  url      = "file:./sqlite.db"
}

generator client {
  provider = "prisma-client-js"
}

enum OrganType {
  KIDNEY
  LIVER
  LUNG
  HEART
  PANCREAS
  INTESTINES
}

enum BloodType {
  A_POS  @map("A+")
  A_NEG  @map("A-")
  B_POS  @map("B+")
  B_NEG  @map("B-")
  O_POS  @map("O+")
  O_NEG  @map("O-")
  AB_POS @map("AB+")
  AB_NEG @map("AB-")
}

model patients {
  createdAt        DateTime   @default(now())
  updatedAt        DateTime   @updatedAt()
  deactivatedAt    DateTime?
  patient_id       String     @id() @default(cuid())
  latitude         Float
  longitude        Float
  first_name       String
  last_name        String
  age              Int
  ssn              String?    @unique()
  blood_type       BloodType
  organs_donated   organs[]   @relation("DonorRelation")
  organs_received  organs[]   @relation("RecipientRelation")
  transplant_needs waitlist[] @relation("WaitListRelation")
}

model organs {
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt()
  deactivatedAt DateTime?
  organ_id      String    @id() @default(cuid())
  donor_id      String
  recipient_id  String?
  latitude      Float
  longitude     Float
  organ_type    OrganType
  blood_type    BloodType
  organ_size    Int
  donor         patients  @relation("DonorRelation", fields: [donor_id], references: [patient_id])
  recipient     patients? @relation("RecipientRelation", fields: [recipient_id], references: [patient_id])
}

model waitlist {
  createdAt            DateTime  @default(now())
  updatedAt            DateTime  @updatedAt()
  deactivatedAt        DateTime?
  waitlist_id          String    @id() @default(cuid())
  patient_id           String
  organ_type           OrganType
  organ_size           Int?
  organ_size_threshold Int?
  patient              patients  @relation("WaitListRelation", fields: [patient_id], references: [patient_id])
}
